{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst formEl = document.querySelector('.feedback-form');\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\ngetDataFromLS();\n\nformEl.addEventListener('input', handleInput);\nformEl.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  for (const key in formData) {\n    if (formEl.elements[key].value.trim() === '') {\n      alert('Fill please all fields');\n      return;\n    }\n  }\n\n  console.log(formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n  event.currentTarget.reset();\n}\n\nfunction handleInput(event) {\n  const value = event.target.value;\n  const key = event.target.name;\n\n  formData[key] = value;\n\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n  } catch (error) {\n    console.log(error);\n    return;\n  }\n}\n\nfunction getDataFromLS() {\n  let data = {};\n\n  try {\n    data = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  } catch (error) {\n    console.log(error);\n    return;\n  }\n\n  if (!data) {\n    return;\n  }\n\n  for (const key in data) {\n    formEl.elements[key].value = data[key];\n  }\n}\n"],"names":["STORAGE_KEY","formEl","formData","getDataFromLS","handleInput","handleSubmit","event","key","value","error","data"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAS,SAAS,cAAc,gBAAgB,EAEhDC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAC,IAEAF,EAAO,iBAAiB,QAASG,CAAW,EAC5CH,EAAO,iBAAiB,SAAUI,CAAY,EAE9C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,UAAWC,KAAOL,EAChB,GAAID,EAAO,SAASM,CAAG,EAAE,MAAM,KAAM,IAAK,GAAI,CAC5C,MAAM,wBAAwB,EAC9B,MACD,CAGH,QAAQ,IAAIL,CAAQ,EAEpB,aAAa,WAAWF,CAAW,EACnCM,EAAM,cAAc,OACtB,CAEA,SAASF,EAAYE,EAAO,CAC1B,MAAME,EAAQF,EAAM,OAAO,MACrBC,EAAMD,EAAM,OAAO,KAEzBJ,EAASK,CAAG,EAAIC,EAEhB,GAAI,CACF,aAAa,QAAQR,EAAa,KAAK,UAAUE,CAAQ,CAAC,CAC3D,OAAQO,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjB,MACD,CACH,CAEA,SAASN,GAAgB,CACvB,IAAIO,EAAO,CAAA,EAEX,GAAI,CACFA,EAAO,KAAK,MAAM,aAAa,QAAQV,CAAW,CAAC,CACpD,OAAQS,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjB,MACD,CAED,GAAKC,EAIL,UAAWH,KAAOG,EAChBT,EAAO,SAASM,CAAG,EAAE,MAAQG,EAAKH,CAAG,CAEzC"}